# 开发环境配置指南

**文档版本**：v1.1  
**最后更新**：2025-11-19  
**适用系统**：Windows 10/11  
**技术栈**：React + Node.js + MySQL + Docker

---

## 📋 需要安装的软件清单

### 必需软件

1. **Node.js** (v18 或更高版本) ⭐ **优先安装**

   - 用于运行后端服务和前端构建工具
   - 下载地址：https://nodejs.org/
   - 推荐版本：v20.x LTS 或 v18.x LTS

2. **Git**

   - 用于版本控制
   - 下载地址：https://git-scm.com/download/win

3. **代码编辑器**

   - **Cursor**：https://cursor.sh/（已安装）
   - **Trae**：https://www.trae.dev/（已安装）
   - 推荐插件（如果支持）：
     - ESLint
     - Prettier
     - GitLens

4. **MySQL** ⭐ **必需**

   - 项目使用的数据库
   - 下载地址：https://dev.mysql.com/downloads/mysql/
   - 推荐：MySQL Installer for Windows

5. **Insomnia** ⭐ **必需**

   - 用于测试 API
   - 下载地址：https://insomnia.rest/download

6. **Docker Desktop** ⏸️ **暂缓安装**

   - 用于容器化部署和开发
   - 下载地址：https://www.docker.com/products/docker-desktop
   - **说明**：初期开发不需要，可以稍后再安装，用于部署和容器化

---

## 🚀 安装步骤

### 步骤 1：安装 Node.js

1. 访问 https://nodejs.org/
2. 下载 **LTS 版本**（推荐 v20.x 或 v18.x）
3. 运行安装程序，一路点击"下一步"
4. **重要**：确保勾选"Add to PATH"选项
5. 安装完成后，打开 PowerShell 或 CMD，验证安装：

```powershell
node --version
npm --version
```

**预期输出**：

```
v20.x.x  # 或 v18.x.x
10.x.x   # npm 版本
```

如果显示"不是内部或外部命令"，需要：

- 重启终端
- 检查环境变量 PATH 是否包含 Node.js 安装路径

---

### 步骤 2：安装 Git

1. 访问 https://git-scm.com/download/win
2. 下载 Git for Windows
3. 运行安装程序，使用默认选项即可
4. 安装完成后，打开 PowerShell，验证安装：

```powershell
git --version
```

**预期输出**：

```
git version 2.x.x
```

5. 配置 Git（首次使用需要）：

```powershell
git config --global user.name "你的名字"
git config --global user.email "你的邮箱"
```

---

### 步骤 3：安装 MySQL ⭐

1. 访问 https://dev.mysql.com/downloads/mysql/
2. 下载 **MySQL Installer for Windows**（推荐选择完整安装包）
3. 运行安装程序：
   - 选择安装类型：**Developer Default**（包含 MySQL Server、MySQL Workbench 等）
   - 记住设置的 **root 用户密码**（非常重要！建议记录下来）
   - 端口默认 **3306**，可以保持默认
   - 其他选项使用默认即可
4. 安装完成后，验证安装：

```powershell
mysql --version
```

**预期输出**：

```
mysql  Ver 8.x.x for Win64 on x86_64
```

5. 测试连接（可选）：

```powershell
mysql -u root -p
# 输入密码后，应该能看到 MySQL 提示符
# 输入 exit 退出
```

**重要提示**：

- 记住 root 密码，后续配置数据库连接时需要用到
- 如果忘记密码，需要重置 MySQL root 密码（比较复杂）

---

### 步骤 4：安装 Insomnia ⭐

1. 访问 https://insomnia.rest/download
2. 下载 Windows 版本
3. 运行安装程序
4. 首次使用需要注册账号（免费）或使用本地模式

**使用建议**：

- 创建项目后，可以导入 API 集合进行测试
- 支持环境变量，方便切换开发/生产环境

---

### 步骤 5：安装 Docker Desktop ⏸️（暂缓）

**说明**：初期开发不需要 Docker，可以稍后再安装。Docker 主要用于：

- 生产环境部署
- 容器化开发环境
- 数据库容器化（可选）

**安装步骤**（稍后需要时再安装）：

1. 访问 https://www.docker.com/products/docker-desktop
2. 下载 Docker Desktop for Windows
3. 运行安装程序
4. **重要**：确保启用 WSL 2（如果提示）
5. 安装完成后，重启电脑（如果需要）
6. 启动 Docker Desktop，等待 Docker 引擎启动完成
7. 验证安装：

```powershell
docker --version
docker-compose --version
```

**预期输出**：

```
Docker version 24.x.x
Docker Compose version v2.x.x
```

**使用建议**：

- Docker Desktop 启动后会在系统托盘显示图标
- 首次使用可能需要登录 Docker Hub（可选）
- 如果遇到 WSL 2 相关问题，参考：https://docs.docker.com/desktop/wsl/

---

## ✅ 验证安装

运行以下命令，检查所有必需软件是否安装成功：

```powershell
# 检查 Node.js
node --version
npm --version

# 检查 Git
git --version

# 检查 MySQL
mysql --version

# 检查 Docker（暂缓，稍后再验证）
# docker --version
# docker-compose --version
```

**预期结果**（初期必需）：

- Node.js: v18.x.x 或 v20.x.x
- npm: 9.x.x 或 10.x.x
- Git: git version 2.x.x
- MySQL: mysql Ver 8.x.x

**稍后验证**（Docker）：

- Docker: Docker version 24.x.x

---

## 🔧 配置 npm（可选但推荐）

### 设置 npm 镜像源（国内用户推荐）

使用淘宝镜像加速下载：

```powershell
npm config set registry https://registry.npmmirror.com
```

验证：

```powershell
npm config get registry
```

### 设置全局包安装路径（可选）

避免权限问题：

```powershell
npm config set prefix "C:\Users\你的用户名\AppData\Roaming\npm"
```

---

## 📝 下一步

安装完成后，请告诉我：

1. ✅ Node.js 版本：`node --version` 的输出
2. ✅ npm 版本：`npm --version` 的输出
3. ✅ Git 版本：`git --version` 的输出
4. ✅ MySQL 版本：`mysql --version` 的输出
5. ✅ MySQL root 密码：已设置（不需要告诉我密码，只需确认已设置）
6. ⏸️ Docker：暂缓安装（稍后再安装）

然后我们就可以开始：

- ✅ ~~确定技术栈~~（已完成：React + Node.js + MySQL + Docker）
- 初始化后端项目（Node.js + Express/Koa）
- 初始化前端项目（React + Vite）
- 配置数据库连接
- 开始开发！

---

## 🐛 常见问题

### Node.js 安装后找不到命令

**解决方案**：

1. 重启终端/PowerShell
2. 检查环境变量 PATH 是否包含 Node.js 安装路径（通常是 `C:\Program Files\nodejs\`）
3. 如果还是没有，手动添加到 PATH：
   - 右键"此电脑" → 属性 → 高级系统设置 → 环境变量
   - 在"系统变量"中找到 Path，点击编辑
   - 添加 Node.js 安装路径

### npm 安装包很慢

**解决方案**：
使用国内镜像源（见上面的"配置 npm"部分）

### MySQL 连接失败

**解决方案**：

1. 检查 MySQL 服务是否启动：
   - 打开"服务"（Win+R，输入 `services.msc`）
   - 找到 "MySQL80" 或 "MySQL" 服务，确保状态为"正在运行"
   - 如果未运行，右键点击 → 启动
2. 检查端口是否被占用（默认 3306）
3. 检查防火墙设置
4. 如果忘记 root 密码：
   - 参考官方文档：https://dev.mysql.com/doc/refman/8.0/en/resetting-permissions.html
   - 或使用 MySQL Workbench 重置密码

### Docker 启动失败

**解决方案**：

1. 确保已启用 WSL 2：
   - 打开 PowerShell（管理员权限）
   - 运行：`wsl --install`
   - 重启电脑
2. 检查虚拟化是否启用（在 BIOS 中启用 VT-x/AMD-V）
3. 确保 Hyper-V 已启用（Windows 专业版）
4. 参考 Docker 官方文档：https://docs.docker.com/desktop/windows/troubleshoot/

### Git 配置问题

**解决方案**：
确保已配置用户名和邮箱（见步骤 2）

---

## 📚 相关文档

- [快速开始指南](./产品文档/00-快速开始指南.md)
- [开发进度](./开发进度.md)
- [系统架构](./产品文档/06-系统架构.md)

---

**配置完成后，告诉我你的安装结果，我们继续下一步！** 🚀
