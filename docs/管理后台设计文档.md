# ç®¡ç†åå°è®¾è®¡æ–‡æ¡£

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0.0  
**åˆ›å»ºæ—¶é—´**ï¼š2025-01-XX  
**é€‚ç”¨ç‰ˆæœ¬**ï¼šv1.5+

---

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

ç®¡ç†åå°ç”¨äºç³»ç»Ÿç®¡ç†ã€æ•°æ®ç»Ÿè®¡ã€ç”¨æˆ·ç®¡ç†ç­‰ï¼Œé¢å‘ç®¡ç†å‘˜ä½¿ç”¨ã€‚

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ä»ªè¡¨ç›˜ï¼ˆDashboardï¼‰
- **æ•°æ®æ¦‚è§ˆ**ï¼š
  - æ€»ç”¨æˆ·æ•°
  - æ€» NPC æ•°
  - æ€»å¯¹è¯æ•°
  - ä»Šæ—¥æ´»è·ƒç”¨æˆ·æ•°
- **å›¾è¡¨å±•ç¤º**ï¼š
  - ç”¨æˆ·å¢é•¿è¶‹åŠ¿ï¼ˆæŠ˜çº¿å›¾ï¼‰
  - NPC åˆ›å»ºè¶‹åŠ¿ï¼ˆæŠ˜çº¿å›¾ï¼‰
  - å¯¹è¯é‡ç»Ÿè®¡ï¼ˆæŸ±çŠ¶å›¾ï¼‰

### 2. ç”¨æˆ·ç®¡ç†ï¼ˆUsersï¼‰
- **ç”¨æˆ·åˆ—è¡¨**ï¼š
  - æ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·ï¼ˆIDã€ç”¨æˆ·åã€æ³¨å†Œæ—¶é—´ã€æœ€åæ´»è·ƒæ—¶é—´ï¼‰
  - æ”¯æŒæœç´¢ï¼ˆæŒ‰ IDã€ç”¨æˆ·åï¼‰
  - æ”¯æŒç­›é€‰ï¼ˆæŒ‰æ³¨å†Œæ—¶é—´èŒƒå›´ï¼‰
  - åˆ†é¡µæ˜¾ç¤º
- **ç”¨æˆ·è¯¦æƒ…**ï¼š
  - æŸ¥çœ‹ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
  - æŸ¥çœ‹ç”¨æˆ·åˆ›å»ºçš„ NPC åˆ—è¡¨
  - æŸ¥çœ‹ç”¨æˆ·å¯¹è¯ç»Ÿè®¡
- **ç”¨æˆ·æ“ä½œ**ï¼š
  - ç¦ç”¨/å¯ç”¨ç”¨æˆ·
  - é‡ç½®ç”¨æˆ·å¯†ç 
  - åˆ é™¤ç”¨æˆ·ï¼ˆè½¯åˆ é™¤ï¼‰

### 3. NPC ç®¡ç†ï¼ˆAgentsï¼‰
- **NPC åˆ—è¡¨**ï¼š
  - æ˜¾ç¤ºæ‰€æœ‰ NPCï¼ˆIDã€åç§°ã€åˆ›å»ºè€…ã€åˆ›å»ºæ—¶é—´ã€ä½¿ç”¨æ¬¡æ•°ï¼‰
  - æ”¯æŒæœç´¢ï¼ˆæŒ‰åç§°ã€åˆ›å»ºè€…ï¼‰
  - æ”¯æŒç­›é€‰ï¼ˆæŒ‰åˆ›å»ºè€…ã€ç±»å‹ï¼‰
  - åˆ†é¡µæ˜¾ç¤º
- **NPC è¯¦æƒ…**ï¼š
  - æŸ¥çœ‹ NPC é…ç½®ä¿¡æ¯
  - æŸ¥çœ‹ NPC ä½¿ç”¨ç»Ÿè®¡
  - æŸ¥çœ‹å¯¹è¯è®°å½•
- **NPC æ“ä½œ**ï¼š
  - ç¼–è¾‘ NPCï¼ˆç®¡ç†å‘˜å¯ä»¥ç¼–è¾‘ä»»ä½• NPCï¼‰
  - åˆ é™¤ NPCï¼ˆè½¯åˆ é™¤ï¼‰
  - ç¦ç”¨/å¯ç”¨ NPC

### 4. æ•°æ®ç»Ÿè®¡ï¼ˆStatisticsï¼‰
- **ç”¨æˆ·ç»Ÿè®¡**ï¼š
  - ç”¨æˆ·æ³¨å†Œè¶‹åŠ¿
  - ç”¨æˆ·æ´»è·ƒåº¦åˆ†æ
  - ç”¨æˆ·ç•™å­˜ç‡
- **NPC ç»Ÿè®¡**ï¼š
  - NPC åˆ›å»ºè¶‹åŠ¿
  - æœ€å—æ¬¢è¿çš„ NPCï¼ˆä½¿ç”¨æ¬¡æ•°ï¼‰
  - NPC ç±»å‹åˆ†å¸ƒ
- **å¯¹è¯ç»Ÿè®¡**ï¼š
  - å¯¹è¯é‡è¶‹åŠ¿
  - å¹³å‡å¯¹è¯è½®æ•°
  - çƒ­é—¨è¯é¢˜åˆ†æ

### 5. ç³»ç»Ÿé…ç½®ï¼ˆSystemï¼‰
- **API Key ç®¡ç†**ï¼š
  - æŸ¥çœ‹æ‰€æœ‰ API Key çŠ¶æ€
  - å¯ç”¨/ç¦ç”¨ API Key
  - æŸ¥çœ‹ API Key ä½¿ç”¨é‡
- **ç³»ç»Ÿè®¾ç½®**ï¼š
  - ç³»ç»Ÿå‚æ•°é…ç½®
  - ç»´æŠ¤æ¨¡å¼å¼€å…³

---

## ğŸ“ é¡µé¢ç»“æ„

```
admin-frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Dashboard/          # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Dashboard.module.css
â”‚   â”‚   â”œâ”€â”€ Users/              # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ UserList.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ UserDetail.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Users.module.css
â”‚   â”‚   â”œâ”€â”€ Agents/             # NPC ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ AgentList.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AgentDetail.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Agents.module.css
â”‚   â”‚   â”œâ”€â”€ Statistics/         # æ•°æ®ç»Ÿè®¡
â”‚   â”‚   â”‚   â”œâ”€â”€ Statistics.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Statistics.module.css
â”‚   â”‚   â””â”€â”€ Login/              # ç™»å½•é¡µ
â”‚   â”‚       â”œâ”€â”€ Login.jsx
â”‚   â”‚       â””â”€â”€ Login.module.css
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Layout/             # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminLayout.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Sidebar.jsx
â”‚   â”‚   â”œâ”€â”€ Table/              # è¡¨æ ¼ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ DataTable.jsx
â”‚   â”‚   â””â”€â”€ Charts/             # å›¾è¡¨ç»„ä»¶
â”‚   â”‚       â””â”€â”€ LineChart.jsx
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ adapter.js          # é€‚é…å™¨æ¥å£
â”‚   â”‚   â”œâ”€â”€ mockAdapter.js      # Mock é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ httpAdapter.js      # HTTP é€‚é…å™¨
â”‚   â”‚   â””â”€â”€ index.js            # API å…¥å£
â”‚   â”œâ”€â”€ mocks/
â”‚   â”‚   â””â”€â”€ data/
â”‚   â”‚       â”œâ”€â”€ users.js        # Mock ç”¨æˆ·æ•°æ®
â”‚   â”‚       â”œâ”€â”€ agents.js       # Mock NPC æ•°æ®
â”‚   â”‚       â””â”€â”€ statistics.js   # Mock ç»Ÿè®¡æ•°æ®
â”‚   â””â”€â”€ router/
â”‚       â””â”€â”€ index.jsx           # è·¯ç”±é…ç½®
```

---

## ğŸ”Œ API è®¾è®¡

### ç®¡ç†åå° API è·¯å¾„å‰ç¼€ï¼š`/api/admin`

#### 1. ç”¨æˆ·ç®¡ç† API

```javascript
// è·å–æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨
GET /api/admin/users
Query: { page, pageSize, search, startDate, endDate }
Response: { success: true, data: { users: [], total: number } }

// è·å–ç”¨æˆ·è¯¦æƒ…
GET /api/admin/users/:userId
Response: { success: true, data: { user: {}, agents: [], statistics: {} } }

// ç¦ç”¨/å¯ç”¨ç”¨æˆ·
PUT /api/admin/users/:userId/status
Body: { status: 'active' | 'disabled' }
Response: { success: true, data: { user: {} } }

// é‡ç½®ç”¨æˆ·å¯†ç 
POST /api/admin/users/:userId/reset-password
Body: { newPassword: string }
Response: { success: true, data: { message: string } }

// åˆ é™¤ç”¨æˆ·ï¼ˆè½¯åˆ é™¤ï¼‰
DELETE /api/admin/users/:userId
Response: { success: true, data: { message: string } }
```

#### 2. NPC ç®¡ç† API

```javascript
// è·å–æ‰€æœ‰ NPC åˆ—è¡¨
GET /api/admin/agents
Query: { page, pageSize, search, userId, type }
Response: { success: true, data: { agents: [], total: number } }

// è·å– NPC è¯¦æƒ…
GET /api/admin/agents/:agentId
Response: { success: true, data: { agent: {}, statistics: {} } }

// ç¼–è¾‘ NPCï¼ˆç®¡ç†å‘˜å¯ä»¥ç¼–è¾‘ä»»ä½• NPCï¼‰
PUT /api/admin/agents/:agentId
Body: { name, systemPrompt, model, ... }
Response: { success: true, data: { agent: {} } }

// åˆ é™¤ NPCï¼ˆè½¯åˆ é™¤ï¼‰
DELETE /api/admin/agents/:agentId
Response: { success: true, data: { message: string } }
```

#### 3. æ•°æ®ç»Ÿè®¡ API

```javascript
// è·å–ä»ªè¡¨ç›˜æ•°æ®
GET /api/admin/statistics/dashboard
Response: { 
  success: true, 
  data: { 
    totalUsers: number,
    totalAgents: number,
    totalConversations: number,
    todayActiveUsers: number,
    userGrowth: [],      // ç”¨æˆ·å¢é•¿è¶‹åŠ¿
    agentGrowth: [],     // NPC å¢é•¿è¶‹åŠ¿
    conversationStats: [] // å¯¹è¯ç»Ÿè®¡
  } 
}

// è·å–ç”¨æˆ·ç»Ÿè®¡
GET /api/admin/statistics/users
Query: { startDate, endDate }
Response: { success: true, data: { trends: [], retention: number } }

// è·å– NPC ç»Ÿè®¡
GET /api/admin/statistics/agents
Response: { success: true, data: { trends: [], popular: [], distribution: {} } }

// è·å–å¯¹è¯ç»Ÿè®¡
GET /api/admin/statistics/conversations
Query: { startDate, endDate }
Response: { success: true, data: { trends: [], averageRounds: number } }
```

#### 4. ç®¡ç†å‘˜è®¤è¯ API

```javascript
// ç®¡ç†å‘˜ç™»å½•
POST /api/admin/auth/login
Body: { userId: string, password: string }
Response: { success: true, data: { user: {}, accessToken: string } }

// è·å–å½“å‰ç®¡ç†å‘˜ä¿¡æ¯
GET /api/admin/auth/me
Response: { success: true, data: { user: {} } }
```

---

## ğŸ¨ UI è®¾è®¡

### å¸ƒå±€ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header (Logo + ç”¨æˆ·ä¿¡æ¯ + é€€å‡º)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚                              â”‚
â”‚ Sidebar  â”‚  Main Content                â”‚
â”‚          â”‚                              â”‚
â”‚ - ä»ªè¡¨ç›˜ â”‚  [é¡µé¢å†…å®¹]                  â”‚
â”‚ - ç”¨æˆ·ç®¡ç†â”‚                              â”‚
â”‚ - NPCç®¡ç†â”‚                              â”‚
â”‚ - æ•°æ®ç»Ÿè®¡â”‚                              â”‚
â”‚          â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶åº“

ä½¿ç”¨ **Ant Design**ï¼ˆä¸ C ç«¯ä¿æŒä¸€è‡´ï¼‰

---

## ğŸ” æƒé™æ§åˆ¶

### è§’è‰²è®¾è®¡

- **admin**ï¼šç®¡ç†å‘˜ï¼ˆå¯ä»¥è®¿é—®ç®¡ç†åå°ï¼‰
- **super_admin**ï¼šè¶…çº§ç®¡ç†å‘˜ï¼ˆå¯ä»¥ç®¡ç†ç³»ç»Ÿé…ç½®ï¼‰

### è®¤è¯æµç¨‹

1. ç®¡ç†å‘˜ç™»å½•ï¼ˆä½¿ç”¨ç®¡ç†å‘˜è´¦å·ï¼‰
2. åç«¯éªŒè¯ç”¨æˆ·è§’è‰²ï¼ˆå¿…é¡»æ˜¯ admin æˆ– super_adminï¼‰
3. è¿”å› JWT Token
4. å‰ç«¯å­˜å‚¨ Token
5. åç»­è¯·æ±‚æºå¸¦ Token
6. åç«¯éªŒè¯ Token å’Œè§’è‰²

---

## ğŸ“Š Mock æ•°æ®è®¾è®¡

### ç”¨æˆ· Mock æ•°æ®

```javascript
const mockUsers = [
  {
    id: 'user_1',
    username: 'å¼ ä¸‰',
    role: 'user',
    createdAt: Date.now() - 30 * 24 * 60 * 60 * 1000, // 30å¤©å‰
    lastActiveAt: Date.now() - 1 * 60 * 60 * 1000,    // 1å°æ—¶å‰
    status: 'active',
    agentCount: 5,
    conversationCount: 120
  },
  // ...
];
```

### NPC Mock æ•°æ®

```javascript
const mockAgents = [
  {
    id: 'agent_1',
    name: 'å­¦ä¹ æ•™ç»ƒ',
    userId: 'user_1',
    username: 'å¼ ä¸‰',
    type: 'special',
    model: 'gpt-4.1',
    createdAt: Date.now() - 20 * 24 * 60 * 60 * 1000,
    usageCount: 45,
    status: 'active'
  },
  // ...
];
```

### ç»Ÿè®¡æ•°æ® Mock æ•°æ®

```javascript
const mockStatistics = {
  dashboard: {
    totalUsers: 1250,
    totalAgents: 3420,
    totalConversations: 15680,
    todayActiveUsers: 89
  },
  userGrowth: [
    { date: '2025-01-01', count: 100 },
    { date: '2025-01-02', count: 120 },
    // ...
  ],
  // ...
};
```

---

## ğŸš€ å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¡†æ¶
1. âœ… åˆ›å»ºé¡¹ç›®ç»“æ„
2. âœ… å®ç° API é€‚é…å±‚ï¼ˆMock + HTTPï¼‰
3. âœ… åˆ›å»º Mock æ•°æ®
4. âœ… é…ç½®è·¯ç”±

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒé¡µé¢
1. âœ… ç™»å½•é¡µ
2. âœ… ä»ªè¡¨ç›˜
3. âœ… ç”¨æˆ·ç®¡ç†
4. âœ… NPC ç®¡ç†

### ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½
1. â³ æ•°æ®ç»Ÿè®¡
2. â³ ç³»ç»Ÿé…ç½®
3. â³ æƒé™ç®¡ç†

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **API è·¯å¾„**ï¼šç®¡ç†åå° API ä½¿ç”¨ `/api/admin/*` å‰ç¼€ï¼Œä¸ C ç«¯ `/api/v1/*` åŒºåˆ†
2. **è®¤è¯æ–¹å¼**ï¼šä½¿ç”¨ JWT Tokenï¼Œä¸ C ç«¯ç›¸åŒï¼Œä½†éœ€è¦éªŒè¯ç®¡ç†å‘˜è§’è‰²
3. **Mock æ•°æ®**ï¼šå…ˆå®ç° Mock é€‚é…å™¨ï¼Œç¡®ä¿å‰ç«¯å¯ä»¥ç‹¬ç«‹å¼€å‘
4. **UI é£æ ¼**ï¼šä¸ C ç«¯ä¿æŒä¸€è‡´ï¼Œä½¿ç”¨ Ant Design
5. **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯ï¼ˆç®¡ç†åå°ä¸»è¦é¢å‘æ¡Œé¢ç«¯ï¼‰

