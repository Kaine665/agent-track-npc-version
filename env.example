# ============================================
# Docker Compose 环境变量示例文件
# ============================================
# 说明：复制此文件为 .env 并填写实际值
# 使用方法：cp env.example .env
# 最后更新：2025-11-22

# ==================== 数据库配置 ====================
# MySQL root 密码（重要！请修改为强密码）
DB_PASSWORD=your_mysql_password_here

# MySQL 数据库名称
DB_NAME=npc_db

# MySQL 用户名（可选，默认使用 root）
DB_USER=root

# MySQL 端口（主机端口，容器内固定为 3306）
DB_PORT=3306

# ==================== 服务端口配置 ====================
# 后端服务端口（主机端口，容器内固定为 8000）
BACKEND_PORT=8000

# 前端服务端口（主机端口，容器内固定为 80）
FRONTEND_PORT=3000

# Nginx HTTP 端口
NGINX_HTTP_PORT=80

# Nginx HTTPS 端口（如果启用 SSL）
NGINX_HTTPS_PORT=443

# ==================== LLM API 配置 ====================
# 支持多个 API Key，用逗号分隔，系统会自动故障转移
# 格式：key1,key2,key3
# 如果第一个 API Key 失败（401/403/429/超时），会自动尝试下一个

# OpenRouter API Key（推荐）
# 单个：OPENROUTER_API_KEY=your_openrouter_api_key_here
# 多个：OPENROUTER_API_KEY=key1,key2,key3
OPENROUTER_API_KEY=your_openrouter_api_key_here

# OpenAI API Key（可选）
# 单个：OPENAI_API_KEY=your_openai_api_key_here
# 多个：OPENAI_API_KEY=key1,key2,key3
OPENAI_API_KEY=

# DeepSeek API Key（可选）
# 单个：DEEPSEEK_API_KEY=your_deepseek_api_key_here
# 多个：DEEPSEEK_API_KEY=key1,key2,key3
DEEPSEEK_API_KEY=

# ==================== 前端 API 配置 ====================
# 前端访问后端的 API 地址
# 腾讯云部署：http://你的服务器IP:8000
# 例如：http://123.456.789.0:8000
# 如果使用域名：https://api.yourdomain.com
FRONTEND_API_URL=http://localhost:8000

# ==================== JWT 认证配置 ====================
# JWT Secret（重要！请修改为强随机密钥）
# 生产环境必须使用强随机密钥，不要使用默认值
# 生成方式：可以使用 openssl rand -base64 32 生成
JWT_SECRET=your-super-secret-key-change-in-production

# ==================== CORS 配置 ====================
# CORS 允许的来源列表（用逗号分隔，优先级最高）
# 如果不设置，系统会根据环境自动生成允许的来源
# 示例：CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://example.com
# 注意：系统会自动添加生产环境（端口 80）和测试环境（端口 3001/3000）
CORS_ORIGINS=

# 服务器 IP 地址（用于自动生成 CORS 允许的来源）
# 如果不设置，会尝试自动获取或使用 localhost
# 示例：SERVER_IP=123.456.789.0
SERVER_IP=

# 前端域名（如果有，用于生产环境 CORS）
# 示例：FRONTEND_DOMAIN=yourdomain.com
FRONTEND_DOMAIN=

# 是否输出 CORS 调试信息（开发调试用）
# 设置为 true 会在启动时输出允许的来源列表
DEBUG_CORS=false

